!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("serviceworker.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});var o=[],r={};function i(){Quagga.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("video")},decoder:{readers:["code_128_reader","ean_reader"]}},function(e){e?console.log(e):(console.log("Initialization finished. Ready to start"),Quagga.start(),c.value="")}),o=[],Quagga.onDetected(function(e){var t,n=e.codeResult.code;if(console.log("last_code: "+n),o.push(n),c.value=c.value+1,o.length>20){var i=(t=o,r={},t.forEach(function(e){r[e]||(r[e]=0),r[e]++}),Object.keys(r).sort(function(e,t){return r[e]<r[t]}))[0];Quagga.stop(),m(),console.log("final code: "+i),c.value=i}})}const c=document.querySelector(".input--js"),a=document.querySelector(".image--js"),u=document.querySelector(".image__label--js");document.querySelector(".buttonLoad--js").addEventListener("click",function(){""!=c.value&&("lm"==c.value?(a.src="assets/img/logoLM.jpg",u.innerHTML=c.value):"piws"==c.value?(a.src="assets/img/logoPiws.jpg",u.innerHTML=c.value):(a.src="assets/img/no-pictures.svg",u.innerHTML="nie znaleziono rysunku"),c.value="")}),console.log(navigator.mediaDevices),console.log(navigator.mediaDevices.getUserMedia);const s=document.querySelector(".buttonStartCamera--js"),l=document.querySelector(".buttonStopCamera--js"),d=document.querySelector(".buttonFlipCamera--js");s.addEventListener("click",function(){g(),i()}),l.addEventListener("click",function(){Quagga.stop(),m()});const v=document.querySelector("video");let f;function g(){let e={audio:!1,video:{}};e.video=f?{deviceId:f}:{facingMode:"environment"},m(),navigator.mediaDevices.getUserMedia(e).then(function(e){v.srcObject=e}).catch(function(e){alert(e.name+": "+e.message)})}function m(){v.srcObject&&v.srcObject.getTracks()[0].stop()}d.disabled=!0,navigator.mediaDevices.enumerateDevices().then(function(e){(e=e.filter(function(e){return"videoinput"===e.kind})).length>1&&(d.disabled=!1,f=e[0].deviceId,d.addEventListener("click",function(){let t;for(let n=0;n<e.length;n++)if(e[n].deviceId===f){t=n+1<e.length?e[n+1]:e[0];break}f=t.deviceId,g()}))})}]);